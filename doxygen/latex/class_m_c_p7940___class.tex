\doxysection{MCP7940\+\_\+\+Class Class Reference}
\hypertarget{class_m_c_p7940___class}{}\label{class_m_c_p7940___class}\index{MCP7940\_Class@{MCP7940\_Class}}


Main class definition with forward declarations.  




{\ttfamily \#include $<$MCP7940.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_m_c_p7940___class_a638a23b0732b2184b68388048c0c21a6}{MCP7940\+\_\+\+Class}} ()
\item 
\mbox{\hyperlink{class_m_c_p7940___class_ad1ed438da5cea24515685acc1e8d67ac}{\texorpdfstring{$\sim$}{\string~}\+MCP7940\+\_\+\+Class}} ()
\begin{DoxyCompactList}\small\item\em Unused Class constructor. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_m_c_p7940___class_a68f44078bd81cb4e381764ce78b8e1cf}{begin}} (const uint32\+\_\+t i2c\+Speed=\mbox{\hyperlink{_m_c_p7940_8h_a348cbfad3423827f84b19829d91be1a7}{I2\+C\+\_\+\+STANDARD\+\_\+\+MODE}}) const
\begin{DoxyCompactList}\small\item\em Unused Class destructor. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_m_c_p7940___class_a7b8f6b6bfe2d9c4c8ff06643b2addd85}{begin}} (int Rtc\+\_\+\+SDA, int Rtc\+\_\+\+SCL, const uint32\+\_\+t i2c\+Speed=\mbox{\hyperlink{_m_c_p7940_8h_a348cbfad3423827f84b19829d91be1a7}{I2\+C\+\_\+\+STANDARD\+\_\+\+MODE}}) const
\item 
bool \mbox{\hyperlink{class_m_c_p7940___class_abe98f9edca7634140589876471cf9521}{device\+Status}} () const
\item 
bool \mbox{\hyperlink{class_m_c_p7940___class_a70fea5d000ee1c7dad61a0dc081b1bdc}{device\+Start}} () const
\item 
bool \mbox{\hyperlink{class_m_c_p7940___class_a7de76ea9461917f8a71632f38d8edcb6}{device\+Stop}} () const
\item 
\mbox{\hyperlink{class_date_time}{Date\+Time}} \mbox{\hyperlink{class_m_c_p7940___class_a971ebbd95232d811ea8e1d9b69af1e26}{now}} () const
\item 
void \mbox{\hyperlink{class_m_c_p7940___class_aa57c1324216c4dddc3dd44b545978235}{adjust}} ()
\item 
void \mbox{\hyperlink{class_m_c_p7940___class_aa2ed754a0866f0c2c11ed5da07228383}{adjust}} (const \mbox{\hyperlink{class_date_time}{Date\+Time}} \&dt)
\item 
int8\+\_\+t \mbox{\hyperlink{class_m_c_p7940___class_a8455323a60a4618ff9c52dd8e1b05086}{calibrate}} () const
\item 
int8\+\_\+t \mbox{\hyperlink{class_m_c_p7940___class_ae303b6ae71dee49ff01aff295e0b210c}{calibrate}} (const int8\+\_\+t new\+Trim)
\item 
int8\+\_\+t \mbox{\hyperlink{class_m_c_p7940___class_a16c4323de9e9bfdeaf00bc2a9675ea8c}{calibrate}} (const \mbox{\hyperlink{class_date_time}{Date\+Time}} \&dt)
\item 
int8\+\_\+t \mbox{\hyperlink{class_m_c_p7940___class_a0a19cf1d972b0e31cdc97fce4e1701fa}{calibrate}} (const float f\+Meas) const
\item 
int8\+\_\+t \mbox{\hyperlink{class_m_c_p7940___class_a54130465cf3f5ce5a8b8a02008a54ad3}{get\+Calibration\+Trim}} () const
\item 
uint8\+\_\+t \mbox{\hyperlink{class_m_c_p7940___class_adec456bff383306c42d6f999e019fcef}{weekday\+Read}} () const
\item 
uint8\+\_\+t \mbox{\hyperlink{class_m_c_p7940___class_a1fad2f586a5b93d2b5f39a67dba8586a}{weekday\+Write}} (const uint8\+\_\+t dow) const
\item 
bool \mbox{\hyperlink{class_m_c_p7940___class_a84ec9e52f2425356bcf4cd86dca758b4}{set\+MFP}} (const bool value) const
\item 
uint8\+\_\+t \mbox{\hyperlink{class_m_c_p7940___class_aac5d1c9697768a682d39e89492d545ac}{get\+MFP}} () const
\item 
bool \mbox{\hyperlink{class_m_c_p7940___class_a0350de4f1b31908aec505958cc7df1e5}{set\+Alarm}} (const uint8\+\_\+t alarm\+Number, const uint8\+\_\+t alarm\+Type, const \mbox{\hyperlink{class_date_time}{Date\+Time}} \&dt, const bool state=true) const
\item 
void \mbox{\hyperlink{class_m_c_p7940___class_a5f3004b18934790089d5fee5814a80df}{set\+Alarm\+Polarity}} (const bool polarity) const
\item 
\mbox{\hyperlink{class_date_time}{Date\+Time}} \mbox{\hyperlink{class_m_c_p7940___class_a40003a56199facfce2f6cb70b234c1e7}{get\+Alarm}} (const uint8\+\_\+t alarm\+Number, uint8\+\_\+t \&alarm\+Type) const
\item 
bool \mbox{\hyperlink{class_m_c_p7940___class_add95f931a9a9f83ab90e9d43482b7e3f}{clear\+Alarm}} (const uint8\+\_\+t alarm\+Number) const
\item 
bool \mbox{\hyperlink{class_m_c_p7940___class_a9e7c3d87c0c73947903614996d718761}{set\+Alarm\+State}} (const uint8\+\_\+t alarm\+Number, const bool state) const
\item 
bool \mbox{\hyperlink{class_m_c_p7940___class_ac8841a33cc739043c012614bf301c17c}{get\+Alarm\+State}} (const uint8\+\_\+t alarm\+Number) const
\item 
bool \mbox{\hyperlink{class_m_c_p7940___class_ab0c2f3a9f234aa2d60836eb5f5a6262a}{is\+Alarm}} (const uint8\+\_\+t alarm\+Number) const
\item 
uint8\+\_\+t \mbox{\hyperlink{class_m_c_p7940___class_a8f87709f24bb24a10f9868bc104adbd6}{get\+SQWSpeed}} () const
\item 
bool \mbox{\hyperlink{class_m_c_p7940___class_af3b995f296083610eb6b6a56df30191c}{set\+SQWSpeed}} (uint8\+\_\+t frequency, bool state=true) const
\item 
bool \mbox{\hyperlink{class_m_c_p7940___class_aaf1eecca212f5d44735b948d1f6f34ae}{set\+SQWState}} (const bool state) const
\item 
bool \mbox{\hyperlink{class_m_c_p7940___class_a53fa3306e4d612e0d99ddc3cd0e9b0cd}{get\+SQWState}} () const
\item 
bool \mbox{\hyperlink{class_m_c_p7940___class_ac3bbc277ecee5af631a3557ef45e5aad}{set\+Battery}} (const bool state) const
\item 
bool \mbox{\hyperlink{class_m_c_p7940___class_a5b90f430ec39d80b1a2fee0ddc6ccaf0}{get\+Battery}} () const
\item 
bool \mbox{\hyperlink{class_m_c_p7940___class_aceca0dbb11cfe0675b2d803dd64f87d0}{get\+Power\+Fail}} () const
\item 
bool \mbox{\hyperlink{class_m_c_p7940___class_ad42e92711ddc4f6773b5fa8c2894cd5b}{clear\+Power\+Fail}} () const
\item 
\mbox{\hyperlink{class_date_time}{Date\+Time}} \mbox{\hyperlink{class_m_c_p7940___class_a5142b39b2a8e3ff9b78c13a29d59e16b}{get\+Power\+Down}} () const
\item 
\mbox{\hyperlink{class_date_time}{Date\+Time}} \mbox{\hyperlink{class_m_c_p7940___class_ad7aff54b766204b6609ee6d0ab5c384d}{get\+Power\+Up}} () const
\item 
int8\+\_\+t \mbox{\hyperlink{class_m_c_p7940___class_a29ed313c7e0c20d70f06eb3dc49a5752}{calibrate\+Or\+Adjust}} (const \mbox{\hyperlink{class_date_time}{Date\+Time}} \&dt)
\item 
int32\+\_\+t \mbox{\hyperlink{class_m_c_p7940___class_a91520f0cbdc256b9144092b617fd5c28}{get\+PPMDeviation}} (const \mbox{\hyperlink{class_date_time}{Date\+Time}} \&dt) const
\item 
void \mbox{\hyperlink{class_m_c_p7940___class_a021dab49f0ed4b86ba48f1af330cdedb}{set\+Set\+Unix\+Time}} (uint32\+\_\+t a\+Time)
\item 
uint32\+\_\+t \mbox{\hyperlink{class_m_c_p7940___class_ae4f751a7d4e764d368fe05d73895fef3}{get\+Set\+Unix\+Time}} () const
\item 
{\footnotesize template$<$typename T $>$ }\\uint8\+\_\+t \& \mbox{\hyperlink{class_m_c_p7940___class_a37c0a8c24d2bac9bfd0c85810386909c}{read\+RAM}} (const uint8\+\_\+t \&addr, T \&value) const
\item 
{\footnotesize template$<$typename T $>$ }\\bool \mbox{\hyperlink{class_m_c_p7940___class_a8d56942641e6719925d0cc23be2d20fc}{write\+RAM}} (const uint8\+\_\+t \&addr, const T \&value) const
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Main class definition with forward declarations. 

Definition at line \mbox{\hyperlink{_m_c_p7940_8h_source_l00146}{146}} of file \mbox{\hyperlink{_m_c_p7940_8h_source}{MCP7940.\+h}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_m_c_p7940___class_a638a23b0732b2184b68388048c0c21a6}\label{class_m_c_p7940___class_a638a23b0732b2184b68388048c0c21a6} 
\index{MCP7940\_Class@{MCP7940\_Class}!MCP7940\_Class@{MCP7940\_Class}}
\index{MCP7940\_Class@{MCP7940\_Class}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{MCP7940\_Class()}{MCP7940\_Class()}}
{\footnotesize\ttfamily MCP7940\+\_\+\+Class\+::\+MCP7940\+\_\+\+Class (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line \mbox{\hyperlink{_m_c_p7940_8h_source_l00152}{152}} of file \mbox{\hyperlink{_m_c_p7940_8h_source}{MCP7940.\+h}}.

\Hypertarget{class_m_c_p7940___class_ad1ed438da5cea24515685acc1e8d67ac}\label{class_m_c_p7940___class_ad1ed438da5cea24515685acc1e8d67ac} 
\index{MCP7940\_Class@{MCP7940\_Class}!````~MCP7940\_Class@{\texorpdfstring{$\sim$}{\string~}MCP7940\_Class}}
\index{````~MCP7940\_Class@{\texorpdfstring{$\sim$}{\string~}MCP7940\_Class}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}MCP7940\_Class()}{\string~MCP7940\_Class()}}
{\footnotesize\ttfamily MCP7940\+\_\+\+Class\+::\texorpdfstring{$\sim$}{\string~}\+MCP7940\+\_\+\+Class (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Unused Class constructor. 



Definition at line \mbox{\hyperlink{_m_c_p7940_8h_source_l00153}{153}} of file \mbox{\hyperlink{_m_c_p7940_8h_source}{MCP7940.\+h}}.



\doxysubsection{Member Function Documentation}
\Hypertarget{class_m_c_p7940___class_aa57c1324216c4dddc3dd44b545978235}\label{class_m_c_p7940___class_aa57c1324216c4dddc3dd44b545978235} 
\index{MCP7940\_Class@{MCP7940\_Class}!adjust@{adjust}}
\index{adjust@{adjust}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{adjust()}{adjust()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void MCP7940\+\_\+\+Class\+::adjust (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

sets the current date/time (overloaded)

This is an overloaded function. With no parameters then the RTC is set to the date/time when the program was compiled. Since different core version handle these compiler variables differently, the values are copied to temporary strings and then passed to the \doxylink{class_m_c_p7940___class_aa57c1324216c4dddc3dd44b545978235}{adjust()} function

Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00424}{424}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_aa2ed754a0866f0c2c11ed5da07228383}\label{class_m_c_p7940___class_aa2ed754a0866f0c2c11ed5da07228383} 
\index{MCP7940\_Class@{MCP7940\_Class}!adjust@{adjust}}
\index{adjust@{adjust}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{adjust()}{adjust()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void MCP7940\+\_\+\+Class\+::adjust (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_date_time}{Date\+Time}} \&}]{dt }\end{DoxyParamCaption})}

sets the current date/time (overloaded)

This is an overloaded function. Set to the \doxylink{class_date_time}{Date\+Time} class instance value. The oscillator is stopped during the process and is restarted upon completion.

Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00438}{438}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_a68f44078bd81cb4e381764ce78b8e1cf}\label{class_m_c_p7940___class_a68f44078bd81cb4e381764ce78b8e1cf} 
\index{MCP7940\_Class@{MCP7940\_Class}!begin@{begin}}
\index{begin@{begin}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{begin()}{begin()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool MCP7940\+\_\+\+Class\+::begin (\begin{DoxyParamCaption}\item[{const uint32\+\_\+t}]{i2c\+Speed = {\ttfamily \mbox{\hyperlink{_m_c_p7940_8h_a348cbfad3423827f84b19829d91be1a7}{I2\+C\+\_\+\+STANDARD\+\_\+\+MODE}}} }\end{DoxyParamCaption}) const}



Unused Class destructor. 

Start I2C device communications

Starts I2C comms with the device, using a default speed if one is not specified 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em i2c\+Speed} & defaults to I2\+C\+\_\+\+STANDARD\+\_\+\+MODE, otherwise use speed in Herz \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if successfully started communication, otherwise false
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00240}{240}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_a7b8f6b6bfe2d9c4c8ff06643b2addd85}\label{class_m_c_p7940___class_a7b8f6b6bfe2d9c4c8ff06643b2addd85} 
\index{MCP7940\_Class@{MCP7940\_Class}!begin@{begin}}
\index{begin@{begin}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{begin()}{begin()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool MCP7940\+\_\+\+Class\+::begin (\begin{DoxyParamCaption}\item[{int}]{Rtc\+\_\+\+SDA,  }\item[{int}]{Rtc\+\_\+\+SCL,  }\item[{const uint32\+\_\+t}]{i2c\+Speed = {\ttfamily \mbox{\hyperlink{_m_c_p7940_8h_a348cbfad3423827f84b19829d91be1a7}{I2\+C\+\_\+\+STANDARD\+\_\+\+MODE}}} }\end{DoxyParamCaption}) const}

Start I2C device communications

Starts I2C comms with the device, using a default speed if one is not specified 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em i2c\+Speed} & defaults to I2\+C\+\_\+\+STANDARD\+\_\+\+MODE, otherwise use speed in Herz \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if successfully started communication, otherwise false
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00259}{259}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_a8455323a60a4618ff9c52dd8e1b05086}\label{class_m_c_p7940___class_a8455323a60a4618ff9c52dd8e1b05086} 
\index{MCP7940\_Class@{MCP7940\_Class}!calibrate@{calibrate}}
\index{calibrate@{calibrate}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{calibrate()}{calibrate()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily int8\+\_\+t MCP7940\+\_\+\+Class\+::calibrate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Calibrate the MCP7940 (overloaded)

When called with no parameters the internal calibration is reset to 0 \begin{DoxyReturn}{Returns}
Always returns 0
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00480}{480}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_a16c4323de9e9bfdeaf00bc2a9675ea8c}\label{class_m_c_p7940___class_a16c4323de9e9bfdeaf00bc2a9675ea8c} 
\index{MCP7940\_Class@{MCP7940\_Class}!calibrate@{calibrate}}
\index{calibrate@{calibrate}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{calibrate()}{calibrate()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily int8\+\_\+t MCP7940\+\_\+\+Class\+::calibrate (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_date_time}{Date\+Time}} \&}]{dt }\end{DoxyParamCaption})}

Calibrate the MCP7940 (overloaded)

When called with a \doxylink{class_date_time}{Date\+Time} class value then an internal calibration is performed. Accepts a current date/time value and compares that to the current date/time of the RTC and computes a calibration factor depending upon the time difference between the two and how long the timespan between the two is. The longer the period between setting the clock and comparing the difference between real time and indicated time the better the resulting calibration accuracy will be. The datasheet explains the calibration formula on page 28. First, the error in parts-\/per-\/million is computed using PPM = (Sec\+Dev/\+Expected\+Seconds) \texorpdfstring{$\ast$}{*} 10000000. Then the trim register is computed using the formula TRIMVAL = (PPM\texorpdfstring{$\ast$}{*}32768\texorpdfstring{$\ast$}{*}60)/(1000000\texorpdfstring{$\ast$}{*}2). The code below is designed for easy reading, not for performance. The ppm \texorpdfstring{$<$}{<}\texorpdfstring{$>$}{>} 130 is computed by solving the equation for the maximum TRIM value of 127 and computing the corresponding max and min values for ppm. This allows the trim variable to be one byte rather than a long integer. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em dt} & Actual Date/time \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns the new calculated trim value
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00507}{507}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_a0a19cf1d972b0e31cdc97fce4e1701fa}\label{class_m_c_p7940___class_a0a19cf1d972b0e31cdc97fce4e1701fa} 
\index{MCP7940\_Class@{MCP7940\_Class}!calibrate@{calibrate}}
\index{calibrate@{calibrate}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{calibrate()}{calibrate()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily int8\+\_\+t MCP7940\+\_\+\+Class\+::calibrate (\begin{DoxyParamCaption}\item[{const float}]{f\+Meas }\end{DoxyParamCaption}) const}

Calibrate the MCP7940 (overloaded)

When called with one floating point value then that is used as the measured frequency 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em f\+Meas} & Measured frequency in Herz \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns the new trim value
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00536}{536}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_ae303b6ae71dee49ff01aff295e0b210c}\label{class_m_c_p7940___class_ae303b6ae71dee49ff01aff295e0b210c} 
\index{MCP7940\_Class@{MCP7940\_Class}!calibrate@{calibrate}}
\index{calibrate@{calibrate}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{calibrate()}{calibrate()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily int8\+\_\+t MCP7940\+\_\+\+Class\+::calibrate (\begin{DoxyParamCaption}\item[{const int8\+\_\+t}]{new\+Trim }\end{DoxyParamCaption})}

Calibrate the MCP7940 (overloaded)

When called with one int8 parameter that value is used as the new trim value 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em new\+Trim} & New signed integer value to use for the trim register \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns the input "{}new\+Trim"{} value
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00490}{490}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_a29ed313c7e0c20d70f06eb3dc49a5752}\label{class_m_c_p7940___class_a29ed313c7e0c20d70f06eb3dc49a5752} 
\index{MCP7940\_Class@{MCP7940\_Class}!calibrateOrAdjust@{calibrateOrAdjust}}
\index{calibrateOrAdjust@{calibrateOrAdjust}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{calibrateOrAdjust()}{calibrateOrAdjust()}}
{\footnotesize\ttfamily int8\+\_\+t MCP7940\+\_\+\+Class\+::calibrate\+Or\+Adjust (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_date_time}{Date\+Time}} \&}]{dt }\end{DoxyParamCaption})}

Calibrate the MCP7940 if the ppm deviation is \texorpdfstring{$<$}{<} 130 and \texorpdfstring{$>$}{>} -\/130 else Adjust the datetime.

If the time had changed significantly (like happens during daylight savings time) then just adjust the time to be the new time and leave the trim value alone. One hour deviation in 6 months is 225 ppm. If the ppm deviation is within -\/130 to 130 then assume we are just calibrating the clock. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em dt} & Actual Date/time \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns the trim value
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00575}{575}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_add95f931a9a9f83ab90e9d43482b7e3f}\label{class_m_c_p7940___class_add95f931a9a9f83ab90e9d43482b7e3f} 
\index{MCP7940\_Class@{MCP7940\_Class}!clearAlarm@{clearAlarm}}
\index{clearAlarm@{clearAlarm}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{clearAlarm()}{clearAlarm()}}
{\footnotesize\ttfamily bool MCP7940\+\_\+\+Class\+::clear\+Alarm (\begin{DoxyParamCaption}\item[{const uint8\+\_\+t}]{alarm\+Number }\end{DoxyParamCaption}) const}

Clears the given alarm 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em alarm\+Number} & Alarm number 0 or 1 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
False if the alarm\+Number is out of range, otherwise true
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00758}{758}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_ad42e92711ddc4f6773b5fa8c2894cd5b}\label{class_m_c_p7940___class_ad42e92711ddc4f6773b5fa8c2894cd5b} 
\index{MCP7940\_Class@{MCP7940\_Class}!clearPowerFail@{clearPowerFail}}
\index{clearPowerFail@{clearPowerFail}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{clearPowerFail()}{clearPowerFail()}}
{\footnotesize\ttfamily bool MCP7940\+\_\+\+Class\+::clear\+Power\+Fail (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Clears the power failure status flag \begin{DoxyReturn}{Returns}
Always returns true
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00896}{896}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_a70fea5d000ee1c7dad61a0dc081b1bdc}\label{class_m_c_p7940___class_a70fea5d000ee1c7dad61a0dc081b1bdc} 
\index{MCP7940\_Class@{MCP7940\_Class}!deviceStart@{deviceStart}}
\index{deviceStart@{deviceStart}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{deviceStart()}{deviceStart()}}
{\footnotesize\ttfamily bool MCP7940\+\_\+\+Class\+::device\+Start (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Start the MCP7940 device

Sets the status register to turn on the device clock \begin{DoxyReturn}{Returns}
Success status true if successful otherwise false
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00348}{348}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_abe98f9edca7634140589876471cf9521}\label{class_m_c_p7940___class_abe98f9edca7634140589876471cf9521} 
\index{MCP7940\_Class@{MCP7940\_Class}!deviceStatus@{deviceStatus}}
\index{deviceStatus@{deviceStatus}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{deviceStatus()}{deviceStatus()}}
{\footnotesize\ttfamily bool MCP7940\+\_\+\+Class\+::device\+Status (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

checks to see if the MCP7940 crystal has been turned on or off Sets the status register to turn on the device clock \begin{DoxyReturn}{Returns}
Success status true if the crystal is on, otherwise false if off
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00340}{340}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_a7de76ea9461917f8a71632f38d8edcb6}\label{class_m_c_p7940___class_a7de76ea9461917f8a71632f38d8edcb6} 
\index{MCP7940\_Class@{MCP7940\_Class}!deviceStop@{deviceStop}}
\index{deviceStop@{deviceStop}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{deviceStop()}{deviceStop()}}
{\footnotesize\ttfamily bool MCP7940\+\_\+\+Class\+::device\+Stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Stop the MCP7940 device

Sets the status register to turn off the device clock \begin{DoxyReturn}{Returns}
true if the oscillator is still running, otherwise 0 if the oscillator has stopped
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00365}{365}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_a40003a56199facfce2f6cb70b234c1e7}\label{class_m_c_p7940___class_a40003a56199facfce2f6cb70b234c1e7} 
\index{MCP7940\_Class@{MCP7940\_Class}!getAlarm@{getAlarm}}
\index{getAlarm@{getAlarm}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{getAlarm()}{getAlarm()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_date_time}{Date\+Time}} MCP7940\+\_\+\+Class\+::get\+Alarm (\begin{DoxyParamCaption}\item[{const uint8\+\_\+t}]{alarm\+Number,  }\item[{uint8\+\_\+t \&}]{alarm\+Type }\end{DoxyParamCaption}) const}

Gets the \doxylink{class_date_time}{Date\+Time} for the given alarm

update the alarm\+Type parameter with the alarm type that was set 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em alarm\+Number} & Alarm number 0 or 1 \\
\hline
\mbox{\texttt{ out}}  & {\em alarm\+Type} & See detailed description for list of alarm types 0-\/7 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\doxylink{class_date_time}{Date\+Time} value of alarm
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00735}{735}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_ac8841a33cc739043c012614bf301c17c}\label{class_m_c_p7940___class_ac8841a33cc739043c012614bf301c17c} 
\index{MCP7940\_Class@{MCP7940\_Class}!getAlarmState@{getAlarmState}}
\index{getAlarmState@{getAlarmState}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{getAlarmState()}{getAlarmState()}}
{\footnotesize\ttfamily bool MCP7940\+\_\+\+Class\+::get\+Alarm\+State (\begin{DoxyParamCaption}\item[{const uint8\+\_\+t}]{alarm\+Number }\end{DoxyParamCaption}) const}

Return whether a given alarm is on or off 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em alarm\+Number} & Alarm number 0 or 1 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
False if the alarm\+Number is out of range or off, otherwise true
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00785}{785}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_a5b90f430ec39d80b1a2fee0ddc6ccaf0}\label{class_m_c_p7940___class_a5b90f430ec39d80b1a2fee0ddc6ccaf0} 
\index{MCP7940\_Class@{MCP7940\_Class}!getBattery@{getBattery}}
\index{getBattery@{getBattery}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{getBattery()}{getBattery()}}
{\footnotesize\ttfamily bool MCP7940\+\_\+\+Class\+::get\+Battery (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Return the battery backup state

Has no effect on the MCP7940M, only on the MCP7940N \begin{DoxyReturn}{Returns}
boolean state of the battery backup mode. "{}true"{} for on and "{}false"{} for off
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00879}{879}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_a54130465cf3f5ce5a8b8a02008a54ad3}\label{class_m_c_p7940___class_a54130465cf3f5ce5a8b8a02008a54ad3} 
\index{MCP7940\_Class@{MCP7940\_Class}!getCalibrationTrim@{getCalibrationTrim}}
\index{getCalibrationTrim@{getCalibrationTrim}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{getCalibrationTrim()}{getCalibrationTrim()}}
{\footnotesize\ttfamily int8\+\_\+t MCP7940\+\_\+\+Class\+::get\+Calibration\+Trim (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Return the TRIMVAL trim value

Since the number in the register can be negative but is not in excess-\/128 format any negative numbers need to be manipulated before returning \begin{DoxyReturn}{Returns}
Returns the current trim value
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00629}{629}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_aac5d1c9697768a682d39e89492d545ac}\label{class_m_c_p7940___class_aac5d1c9697768a682d39e89492d545ac} 
\index{MCP7940\_Class@{MCP7940\_Class}!getMFP@{getMFP}}
\index{getMFP@{getMFP}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{getMFP()}{getMFP()}}
{\footnotesize\ttfamily uint8\+\_\+t MCP7940\+\_\+\+Class\+::get\+MFP (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Gets the MFP (Multifunction Pin) value

On is true and Off is false. This is read from the control register if no alarms are enabled, otherwise the two alarm states must be checked. \begin{DoxyReturn}{Returns}
Returns one of the following values;~\newline
 0 = pin set LOW.~\newline
 1 = pin set HIGH.~\newline
 2 = pin controlled by alarms.~\newline
 3 = pin controlled by square wave output.~\newline
 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00655}{655}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_a5142b39b2a8e3ff9b78c13a29d59e16b}\label{class_m_c_p7940___class_a5142b39b2a8e3ff9b78c13a29d59e16b} 
\index{MCP7940\_Class@{MCP7940\_Class}!getPowerDown@{getPowerDown}}
\index{getPowerDown@{getPowerDown}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{getPowerDown()}{getPowerDown()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_date_time}{Date\+Time}} MCP7940\+\_\+\+Class\+::get\+Power\+Down (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

returns the date/time that the power went off

This is set back to zero once the power fail flag is reset. \begin{DoxyReturn}{Returns}
\doxylink{class_date_time}{Date\+Time} class value for the current Date/\+Time
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00393}{393}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_aceca0dbb11cfe0675b2d803dd64f87d0}\label{class_m_c_p7940___class_aceca0dbb11cfe0675b2d803dd64f87d0} 
\index{MCP7940\_Class@{MCP7940\_Class}!getPowerFail@{getPowerFail}}
\index{getPowerFail@{getPowerFail}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{getPowerFail()}{getPowerFail()}}
{\footnotesize\ttfamily bool MCP7940\+\_\+\+Class\+::get\+Power\+Fail (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Return the power failure status \begin{DoxyReturn}{Returns}
boolean state of the power failure status. "{}true"{} if a power failure has occured, otherwise "{}false"{}
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00887}{887}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_ad7aff54b766204b6609ee6d0ab5c384d}\label{class_m_c_p7940___class_ad7aff54b766204b6609ee6d0ab5c384d} 
\index{MCP7940\_Class@{MCP7940\_Class}!getPowerUp@{getPowerUp}}
\index{getPowerUp@{getPowerUp}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{getPowerUp()}{getPowerUp()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_date_time}{Date\+Time}} MCP7940\+\_\+\+Class\+::get\+Power\+Up (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

returns the date/time that the power went back on \begin{DoxyReturn}{Returns}
\doxylink{class_date_time}{Date\+Time} class value for the power-\/on Date/\+Time
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00409}{409}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_a91520f0cbdc256b9144092b617fd5c28}\label{class_m_c_p7940___class_a91520f0cbdc256b9144092b617fd5c28} 
\index{MCP7940\_Class@{MCP7940\_Class}!getPPMDeviation@{getPPMDeviation}}
\index{getPPMDeviation@{getPPMDeviation}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{getPPMDeviation()}{getPPMDeviation()}}
{\footnotesize\ttfamily int32\+\_\+t MCP7940\+\_\+\+Class\+::get\+PPMDeviation (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_date_time}{Date\+Time}} \&}]{dt }\end{DoxyParamCaption}) const}

Calculate the ppm deviation since the last time the clock was set

The internal \+\_\+\+Set\+Uni\+Time value is set when the clock is set. On this call the current time is converted to unitime and compared with the stored value to determine the part-\/per-\/million difference. One hour deviation in 6 months is 225 ppm 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em dt} & Actual Date/time \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
difference in ppm
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00595}{595}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_ae4f751a7d4e764d368fe05d73895fef3}\label{class_m_c_p7940___class_ae4f751a7d4e764d368fe05d73895fef3} 
\index{MCP7940\_Class@{MCP7940\_Class}!getSetUnixTime@{getSetUnixTime}}
\index{getSetUnixTime@{getSetUnixTime}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{getSetUnixTime()}{getSetUnixTime()}}
{\footnotesize\ttfamily uint32\+\_\+t MCP7940\+\_\+\+Class\+::get\+Set\+Unix\+Time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Get the time the clock was last calibrated or adjusted.

Returns the internal variable \+\_\+\+Set\+Unix\+Time. This is the time the clock was last calibrated or adjusted. This should only used to testing. \begin{DoxyReturn}{Returns}
Returns the internal variable \+\_\+\+Set\+Unix\+Time.
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00620}{620}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_a8f87709f24bb24a10f9868bc104adbd6}\label{class_m_c_p7940___class_a8f87709f24bb24a10f9868bc104adbd6} 
\index{MCP7940\_Class@{MCP7940\_Class}!getSQWSpeed@{getSQWSpeed}}
\index{getSQWSpeed@{getSQWSpeed}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{getSQWSpeed()}{getSQWSpeed()}}
{\footnotesize\ttfamily uint8\+\_\+t MCP7940\+\_\+\+Class\+::get\+SQWSpeed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

returns the list value for the frequency of the square wave \begin{DoxyReturn}{Returns}
Integer value index for the square wave frequency\+:~\newline
0 = 1Hz~\newline
1 = 4.\+096\+KHz~\newline
2 = 8.\+192\+KHz~\newline
3 32.\+768\+KHz~\newline
If square wave is not turned on then a 0 is returned
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00809}{809}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_a53fa3306e4d612e0d99ddc3cd0e9b0cd}\label{class_m_c_p7940___class_a53fa3306e4d612e0d99ddc3cd0e9b0cd} 
\index{MCP7940\_Class@{MCP7940\_Class}!getSQWState@{getSQWState}}
\index{getSQWState@{getSQWState}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{getSQWState()}{getSQWState()}}
{\footnotesize\ttfamily bool MCP7940\+\_\+\+Class\+::get\+SQWState (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Get the square wave generator state \begin{DoxyReturn}{Returns}
boolean state of the square wave, "{}true"{} for on and "{}false"{} for off
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00862}{862}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_ab0c2f3a9f234aa2d60836eb5f5a6262a}\label{class_m_c_p7940___class_ab0c2f3a9f234aa2d60836eb5f5a6262a} 
\index{MCP7940\_Class@{MCP7940\_Class}!isAlarm@{isAlarm}}
\index{isAlarm@{isAlarm}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{isAlarm()}{isAlarm()}}
{\footnotesize\ttfamily bool MCP7940\+\_\+\+Class\+::is\+Alarm (\begin{DoxyParamCaption}\item[{const uint8\+\_\+t}]{alarm\+Number }\end{DoxyParamCaption}) const}

Return whether a given alarm is active or not 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em alarm\+Number} & Alarm number 0 or 1 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
False if the alarm\+Number is out of range or off, otherwise true
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00797}{797}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_a971ebbd95232d811ea8e1d9b69af1e26}\label{class_m_c_p7940___class_a971ebbd95232d811ea8e1d9b69af1e26} 
\index{MCP7940\_Class@{MCP7940\_Class}!now@{now}}
\index{now@{now}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{now()}{now()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_date_time}{Date\+Time}} MCP7940\+\_\+\+Class\+::now (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

returns the current date/time

If the device is stopped then the stop time is returned \begin{DoxyReturn}{Returns}
\doxylink{class_date_time}{Date\+Time} class value for the current Date/\+Time
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00381}{381}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_a37c0a8c24d2bac9bfd0c85810386909c}\label{class_m_c_p7940___class_a37c0a8c24d2bac9bfd0c85810386909c} 
\index{MCP7940\_Class@{MCP7940\_Class}!readRAM@{readRAM}}
\index{readRAM@{readRAM}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{readRAM()}{readRAM()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
uint8\+\_\+t \& MCP7940\+\_\+\+Class\+::read\+RAM (\begin{DoxyParamCaption}\item[{const uint8\+\_\+t \&}]{addr,  }\item[{T \&}]{value }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Template for \doxylink{class_m_c_p7940___class_a37c0a8c24d2bac9bfd0c85810386909c}{read\+RAM()}

As a template it can support compile-\/time data type definitions 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em addr} & Memory address \\
\hline
\mbox{\texttt{ in}}  & {\em value} & Data Type "{}\+T"{} to read \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to return data structure
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8h_source_l00201}{201}} of file \mbox{\hyperlink{_m_c_p7940_8h_source}{MCP7940.\+h}}.

\Hypertarget{class_m_c_p7940___class_a0350de4f1b31908aec505958cc7df1e5}\label{class_m_c_p7940___class_a0350de4f1b31908aec505958cc7df1e5} 
\index{MCP7940\_Class@{MCP7940\_Class}!setAlarm@{setAlarm}}
\index{setAlarm@{setAlarm}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{setAlarm()}{setAlarm()}}
{\footnotesize\ttfamily bool MCP7940\+\_\+\+Class\+::set\+Alarm (\begin{DoxyParamCaption}\item[{const uint8\+\_\+t}]{alarm\+Number,  }\item[{const uint8\+\_\+t}]{alarm\+Type,  }\item[{const \mbox{\hyperlink{class_date_time}{Date\+Time}} \&}]{dt,  }\item[{const bool}]{state = {\ttfamily true} }\end{DoxyParamCaption}) const}

Sets one of the 2 alarms

In order to configure the alarm modules, the following steps need to be performed in order\+:~\newline

\begin{DoxyEnumerate}
\item Load the timekeeping registers and enable the oscillator~\newline

\item Configure the ALMx\+MSK$<$2\+:0$>$ bits to select the desired alarm mask~\newline

\item Set or clear the ALMPOL bit according to the desired output polarity~\newline

\item Ensure the ALMx\+IF flag is cleared~\newline

\item Based on the selected alarm mask, load the alarm match value into the appropriate register(s)~\newline

\item Enable the alarm module by setting the ALMx\+EN bit~\newline
 There are two ALMPOL bits -\/ one in the ALM0\+WKDAY register which can be written, one in the ALM1\+WKDAY register which is read-\/only and reflects the value of the ALMPOL in ALM0\+WKDAY. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em alarm\+Number} & Alarm 0 or Alarm 1 \\
\hline
\mbox{\texttt{ in}}  & {\em alarm\+Type} & Alarm type from 0 to 7, see detailed description \\
\hline
\mbox{\texttt{ in}}  & {\em dt} & \doxylink{class_date_time}{Date\+Time} alarm value used to set the alarm \\
\hline
\mbox{\texttt{ in}}  & {\em state} & Alarm state to set to (0 for "{}off"{} and 1 for "{}on"{}) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns true for success otherwise false
\end{DoxyReturn}

\end{DoxyEnumerate}

Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00677}{677}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_a5f3004b18934790089d5fee5814a80df}\label{class_m_c_p7940___class_a5f3004b18934790089d5fee5814a80df} 
\index{MCP7940\_Class@{MCP7940\_Class}!setAlarmPolarity@{setAlarmPolarity}}
\index{setAlarmPolarity@{setAlarmPolarity}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{setAlarmPolarity()}{setAlarmPolarity()}}
{\footnotesize\ttfamily void MCP7940\+\_\+\+Class\+::set\+Alarm\+Polarity (\begin{DoxyParamCaption}\item[{const bool}]{polarity }\end{DoxyParamCaption}) const}

Sets the alarm polarity

Alarm polarity (see also TABLE 5-\/10 on p.\+27 of the datasheet). Note\+: the MFP pin is open collector, it needs an external pull-\/up resistor.~\newline
 If only one alarm is set\+:~\newline
 polarity = 0\+: MFP high when no alarm, low when alarm.~\newline
 polarity = 1\+: MFP low when no alarm, high when alarm.~\newline
~\newline
 If both alarms are set\+:~\newline
 polarity = 0\+: MFP high when no alarm or one alarm, low when both alarms go off.~\newline
 polarity = 1\+: MFP low when no alarm, high when eihter or both alarms go off.~\newline
~\newline
 In most situations you will want to set polarity to 1 if you have two alarms set, to be able to see when an alarm goes off using the MFP pin. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em polarity} & Boolean value to for polarity\\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00719}{719}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_a9e7c3d87c0c73947903614996d718761}\label{class_m_c_p7940___class_a9e7c3d87c0c73947903614996d718761} 
\index{MCP7940\_Class@{MCP7940\_Class}!setAlarmState@{setAlarmState}}
\index{setAlarmState@{setAlarmState}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{setAlarmState()}{setAlarmState()}}
{\footnotesize\ttfamily bool MCP7940\+\_\+\+Class\+::set\+Alarm\+State (\begin{DoxyParamCaption}\item[{const uint8\+\_\+t}]{alarm\+Number,  }\item[{const bool}]{state }\end{DoxyParamCaption}) const}

Turns an alarm on or off without changing the alarm condition 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em alarm\+Number} & Alarm number 0 or 1 \\
\hline
\mbox{\texttt{ in}}  & {\em state} & State to the set the alarm to \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
False if the alarm\+Number is out of range, otherwise true
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00771}{771}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_ac3bbc277ecee5af631a3557ef45e5aad}\label{class_m_c_p7940___class_ac3bbc277ecee5af631a3557ef45e5aad} 
\index{MCP7940\_Class@{MCP7940\_Class}!setBattery@{setBattery}}
\index{setBattery@{setBattery}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{setBattery()}{setBattery()}}
{\footnotesize\ttfamily bool MCP7940\+\_\+\+Class\+::set\+Battery (\begin{DoxyParamCaption}\item[{const bool}]{state }\end{DoxyParamCaption}) const}

Enable or disable the battery backup

Has no effect on the MCP7940M, only on the MCP7940N 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em state} & True for "{}on"{}, False for "{}off"{} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
boolean state of the battery backup. "{}true"{} for on and "{}false"{} for off
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00869}{869}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_a84ec9e52f2425356bcf4cd86dca758b4}\label{class_m_c_p7940___class_a84ec9e52f2425356bcf4cd86dca758b4} 
\index{MCP7940\_Class@{MCP7940\_Class}!setMFP@{setMFP}}
\index{setMFP@{setMFP}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{setMFP()}{setMFP()}}
{\footnotesize\ttfamily bool MCP7940\+\_\+\+Class\+::set\+MFP (\begin{DoxyParamCaption}\item[{const bool}]{value }\end{DoxyParamCaption}) const}

Sets the MFP (Multifunction Pin) to the requested state \begin{DoxyReturn}{Returns}
Returns true on success otherwise false
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00642}{642}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_a021dab49f0ed4b86ba48f1af330cdedb}\label{class_m_c_p7940___class_a021dab49f0ed4b86ba48f1af330cdedb} 
\index{MCP7940\_Class@{MCP7940\_Class}!setSetUnixTime@{setSetUnixTime}}
\index{setSetUnixTime@{setSetUnixTime}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{setSetUnixTime()}{setSetUnixTime()}}
{\footnotesize\ttfamily void MCP7940\+\_\+\+Class\+::set\+Set\+Unix\+Time (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{a\+Time }\end{DoxyParamCaption})}

Set the time the clock was last calibrated or adjusted.

Set the internal variable \+\_\+\+Set\+Unix\+Time. This is the time the clock was last calibrated or adjusted. This should only used to testing. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em a\+Time} & is the Unix time to set the time the clock was last calibrated or adjusted to. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00609}{609}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_af3b995f296083610eb6b6a56df30191c}\label{class_m_c_p7940___class_af3b995f296083610eb6b6a56df30191c} 
\index{MCP7940\_Class@{MCP7940\_Class}!setSQWSpeed@{setSQWSpeed}}
\index{setSQWSpeed@{setSQWSpeed}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{setSQWSpeed()}{setSQWSpeed()}}
{\footnotesize\ttfamily bool MCP7940\+\_\+\+Class\+::set\+SQWSpeed (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{frequency,  }\item[{bool}]{state = {\ttfamily true} }\end{DoxyParamCaption}) const}

set the square wave speed to a value 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em frequency} & Integer value index for the square wave frequency\+:~\newline
 0 = 1Hz~\newline
 1 = 4.\+096\+KHz~\newline
 2 = 8.\+192\+KHz~\newline
 3 = 32.\+768\+KHz~\newline
 4 = 64Hz~\newline
\\
\hline
\mbox{\texttt{ in}}  & {\em state} & Boolean value set to false if square wave is to be turned off, otherwise true \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
boolean state of the square wave
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00826}{826}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_aaf1eecca212f5d44735b948d1f6f34ae}\label{class_m_c_p7940___class_aaf1eecca212f5d44735b948d1f6f34ae} 
\index{MCP7940\_Class@{MCP7940\_Class}!setSQWState@{setSQWState}}
\index{setSQWState@{setSQWState}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{setSQWState()}{setSQWState()}}
{\footnotesize\ttfamily bool MCP7940\+\_\+\+Class\+::set\+SQWState (\begin{DoxyParamCaption}\item[{const bool}]{state }\end{DoxyParamCaption}) const}

set the square wave generator on or off 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em state} & Boolean value set to false if square wave is to be turned off, otherwise true \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
boolean state of the square wave
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00853}{853}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_adec456bff383306c42d6f999e019fcef}\label{class_m_c_p7940___class_adec456bff383306c42d6f999e019fcef} 
\index{MCP7940\_Class@{MCP7940\_Class}!weekdayRead@{weekdayRead}}
\index{weekdayRead@{weekdayRead}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{weekdayRead()}{weekdayRead()}}
{\footnotesize\ttfamily uint8\+\_\+t MCP7940\+\_\+\+Class\+::weekday\+Read (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

return the weekday number from the RTC

This number is user-\/settable and is incremented when the day shifts. It is set as part of the \doxylink{class_m_c_p7940___class_aa57c1324216c4dddc3dd44b545978235}{adjust()} method where Monday is weekday 1 \begin{DoxyReturn}{Returns}
Values 1-\/7 for the current weekday
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00455}{455}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_a1fad2f586a5b93d2b5f39a67dba8586a}\label{class_m_c_p7940___class_a1fad2f586a5b93d2b5f39a67dba8586a} 
\index{MCP7940\_Class@{MCP7940\_Class}!weekdayWrite@{weekdayWrite}}
\index{weekdayWrite@{weekdayWrite}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{weekdayWrite()}{weekdayWrite()}}
{\footnotesize\ttfamily uint8\+\_\+t MCP7940\+\_\+\+Class\+::weekday\+Write (\begin{DoxyParamCaption}\item[{const uint8\+\_\+t}]{dow }\end{DoxyParamCaption}) const}

set the RTC weekday number

This number is user-\/settable and is incremented when the day shifts. The library uses 1 for Monday and 7 for Sunday 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em dow} & Day of week (1-\/7) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Values 1-\/7 for the day set, returns MCP7940 value if "{}dow"{} is out of range
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8cpp_source_l00464}{464}} of file \mbox{\hyperlink{_m_c_p7940_8cpp_source}{MCP7940.\+cpp}}.

\Hypertarget{class_m_c_p7940___class_a8d56942641e6719925d0cc23be2d20fc}\label{class_m_c_p7940___class_a8d56942641e6719925d0cc23be2d20fc} 
\index{MCP7940\_Class@{MCP7940\_Class}!writeRAM@{writeRAM}}
\index{writeRAM@{writeRAM}!MCP7940\_Class@{MCP7940\_Class}}
\doxysubsubsection{\texorpdfstring{writeRAM()}{writeRAM()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
bool MCP7940\+\_\+\+Class\+::write\+RAM (\begin{DoxyParamCaption}\item[{const uint8\+\_\+t \&}]{addr,  }\item[{const T \&}]{value }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Template for \doxylink{class_m_c_p7940___class_a8d56942641e6719925d0cc23be2d20fc}{write\+RAM()}

As a template it can support compile-\/time data type definitions 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em addr} & Memory address \\
\hline
\mbox{\texttt{ in}}  & {\em value} & Data Type "{}\+T"{} to write \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if successful, otherwise false
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_m_c_p7940_8h_source_l00213}{213}} of file \mbox{\hyperlink{_m_c_p7940_8h_source}{MCP7940.\+h}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{_m_c_p7940_8h}{MCP7940.\+h}}\item 
\mbox{\hyperlink{_m_c_p7940_8cpp}{MCP7940.\+cpp}}\end{DoxyCompactItemize}
